(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(t,e,c){t.exports={item:"CartItem_item__PvC21",details:"CartItem_details__aoluW",quantity:"CartItem_quantity__17AwJ",price:"CartItem_price__2e1Xr",itemprice:"CartItem_itemprice__3gGL2",actions:"CartItem_actions__vgFPB"}},,,,function(t,e,c){t.exports={item:"ProductItem_item__D7K90",price:"ProductItem_price__3UeUf",actions:"ProductItem_actions__2tB1G"}},function(t,e,c){t.exports={notification:"Notification_notification__2ngGC",error:"Notification_error__2e0bs",success:"Notification_success__1lDqO"}},,,function(t,e,c){t.exports={button:"CartButton_button__2Kkv2",badge:"CartButton_badge__1qnrK"}},function(t,e,c){t.exports={card:"Card_card__2hpmp"}},function(t,e,c){t.exports={cart:"Cart_cart__2jusE"}},,function(t,e,c){t.exports={header:"MainHeader_header__1zIb2"}},function(t,e,c){t.exports={products:"Products_products__1oDaL"}},,,,,function(t,e,c){},,,,,,,,,function(t,e,c){"use strict";c.r(e);var n=c(7),r=c.n(n),i=(c(22),c(13)),a=c.n(i),s=c(0),o=function(t){return Object(s.jsx)("section",{className:"".concat(a.a.card," ").concat(t.className?t.className:""),children:t.children})},u=c(14),d=c.n(u),l=c(4),j=c.n(l),b=c(2),f=c(5),p=Object(f.b)({name:"carts",initialState:{items:[],totalPrice:0,totalQuantity:0},reducers:{replaceCart:function(t,e){t.totalQuantity=e.payload.totalQuantity,t.totalPrice=e.payload.totalPrice,t.items=e.payload.items},addCart:function(t,e){t.totalQuantity++;var c=e.payload,n=t.items.find((function(t){return t.id===c.id}));if(n)n.total=n.total+c.price,n.quantity=1+n.quantity,t.totalPrice=c.price+t.totalPrice;else{var r={key:c.id,id:c.id,title:c.title,quantity:1,total:c.price,price:c.price};t.totalPrice=t.totalPrice+c.price,t.items.push(r)}},removeCart:function(t,e){t.totalQuantity--;var c=e.payload,n=t.items.find((function(t){return t.id===c.id}));n.quantity>1?(n.total=n.total-n.price,n.quantity=n.quantity-1,t.totalPrice=t.totalPrice-n.price):(t.totalPrice=t.totalPrice-n.price,t.items=t.items.filter((function(t){return t.id!==c.id})))}}}),h=p.actions,m=p.reducer,x=function(t){return Object(s.jsxs)("div",{className:j.a.actions,children:[Object(s.jsx)("button",{onClick:function(){t.onRemove(t.id)},children:"-"}),Object(s.jsx)("button",{onClick:function(){t.onAdd(t.id)},children:"+"})]})},O=function(t){var e=Object(b.b)(),c=function(c){var n=t.item.find((function(t){return t.id===c}));e(h.removeCart(n))},n=function(c){var n=t.item.find((function(t){return t.id===c}));e(h.addCart(n))};return Object(s.jsx)("div",{children:t.item.map((function(t){return Object(s.jsxs)("li",{className:j.a.item,children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("h3",{children:t.title}),Object(s.jsxs)("div",{className:j.a.price,children:["tk ",t.total," ",Object(s.jsxs)("span",{className:j.a.itemprice,children:["(tk ",t.price,"/item)"]})]})]}),Object(s.jsxs)("div",{className:j.a.details,children:[Object(s.jsxs)("div",{className:j.a.quantity,children:["x ",Object(s.jsx)("span",{children:t.quantity})]}),Object(s.jsx)(x,{id:t.id,onRemove:c,onAdd:n})]})]},t.id)}))})},_=function(t){var e=Object(b.c)((function(t){return t.cart.items})),c=Object(b.c)((function(t){return t.cart.totalPrice}));return Object(s.jsxs)(o,{className:d.a.cart,children:[Object(s.jsx)("h2",{children:"Your Shopping Cart"}),Object(s.jsx)("ul",{children:Object(s.jsx)(O,{item:e})}),Object(s.jsxs)("h3",{children:["Total Amount : ",c," tk"]})]})},v=c(1),y=c(12),g=c.n(y),C=Object(f.b)({name:"ui",initialState:{showCart:!1,notifiaction:null},reducers:{toggle:function(t){t.showCart=!t.showCart},setNotification:function(t,e){var c=e.payload;t.notifiaction={title:c.title,message:c.message,status:c.status}}}}),N=C.actions,w=C.reducer,k=function(t){var e=Object(b.b)(),c=Object(b.c)((function(t){return t.cart.totalQuantity}));return Object(s.jsxs)("button",{onClick:function(){e(N.toggle())},className:g.a.button,children:[Object(s.jsx)("span",{children:"My Cart"}),Object(s.jsx)("span",{className:g.a.badge,children:c})]})},P=c(16),q=c.n(P),I=function(t){return Object(s.jsxs)("header",{className:q.a.header,children:[Object(s.jsx)("h1",{children:"ReduxCart"}),Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:Object(s.jsx)("li",{children:Object(s.jsx)(k,{})})})})]})},S=function(t){return Object(s.jsxs)(v.Fragment,{children:[Object(s.jsx)(I,{}),Object(s.jsx)("main",{children:t.children})]})},B=c(8),E=c.n(B),Q=function(t){var e=Object(b.b)(),c=t.id,n=t.title,r=t.price,i=t.description;return Object(s.jsx)("li",{className:E.a.item,children:Object(s.jsxs)(o,{children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("div",{className:E.a.price,children:["tk ",r.toFixed(2)]})]}),Object(s.jsx)("p",{children:i}),Object(s.jsx)("div",{className:E.a.actions,children:Object(s.jsx)("button",{onClick:function(){var t={id:c,title:n,price:r};e(h.addCart(t))},children:"Add to Cart"})})]})})},A=c(17),F=c.n(A),J=function(t){return Object(s.jsxs)("section",{className:F.a.products,children:[Object(s.jsx)("h2",{children:"Buy your favorite products"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)(Q,{id:"1",title:"Big Herfy",price:359,description:"A juicy, 100% pure beef patty with absolutely no fillers, additives or preservatives, seasoned with secret herbs."}),Object(s.jsx)(Q,{id:"2",title:"Veggie Burger",price:259,description:"A gently spiced mixed vegetable patty topped with creamy mayonnaise, shredded iceberg lettuce in a soft toasted seasame seed bun."})]})]})},D=c(9),G=c.n(D),K=function(t){var e="";"error"===t.status&&(e=G.a.error),"success"===t.status&&(e=G.a.success);var c="".concat(G.a.notification," ").concat(e);return Object(s.jsxs)("section",{className:c,children:[Object(s.jsx)("h2",{children:t.title}),Object(s.jsx)("p",{children:t.message})]})},R=c(3),T=c.n(R),U=c(6),H=!0;var L=function(){var t=Object(b.c)((function(t){return t.ui.showCart})),e=Object(b.c)((function(t){return t.cart})),c=Object(b.c)((function(t){return t.ui.notifiaction})),n=Object(b.b)();return Object(v.useEffect)((function(){n(function(){var t=Object(U.a)(T.a.mark((function t(e){var c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){var t=Object(U.a)(T.a.mark((function t(){var c,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://redux-cart-94dbe-default-rtdb.firebaseio.com/redux_cart.json");case 2:if((c=t.sent).ok){t.next=5;break}throw new Error("Something went wrong!");case 5:return t.next=7,c.json();case 7:n=t.sent,e(h.replaceCart({items:n.items||[],totalQuantity:n.totalQuantity,totalPrice:n.totalPrice}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,c();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(N.setNotification({status:"error",title:"Error!",message:"Fetching cart data failed!"}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())}),[n]),Object(v.useEffect)((function(){var t;H?H=!1:n((t=e,function(){var e=Object(U.a)(T.a.mark((function e(c){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(N.setNotification({status:"pending",title:"Sending...",message:"Sending cart data!"})),n=function(){var e=Object(U.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://redux-cart-94dbe-default-rtdb.firebaseio.com/redux_cart.json",{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Something went wrong!");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,n();case 5:c(N.setNotification({status:"success",title:"Success!",message:"Sent cart data successfully!"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c(N.setNotification({status:"error",title:"Error!",message:"Sending cart data failed!"}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,n]),Object(s.jsxs)(v.Fragment,{children:[c&&Object(s.jsx)(K,{status:c.status,title:c.title,message:c.message}),Object(s.jsxs)(S,{children:[t&&Object(s.jsx)(_,{}),Object(s.jsx)(J,{})]})]})},M=Object(f.a)({reducer:{ui:w,cart:m}});r.a.render(Object(s.jsx)(b.a,{store:M,children:Object(s.jsx)(L,{})}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.2cd57231.chunk.js.map